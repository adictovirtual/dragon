{"version":3,"sources":["../../../src/dragon/models/store.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAIM,W;AAEJ,WAFI,WAEJ,GAA0B;AAAA,QAAd,OAAc,yDAAJ,EAAI;AAAA,wCAFtB,WAEsB;;AACxB,SAAK,OAAL,GAAe,OAAf;AACA,SAAK,IAAL,GAAe,QAAQ,IAAvB;AACD;;6BALG,W;;0BAOE;AACJ,UAAI,IAAI,EAAR;AACA,UAAI;AACF,YAAI,KAAK,KAAL,CAAW,aAAa,OAAb,CAAqB,KAAK,IAA1B,CAAX,CAAJ;AACD,OAFD,CAGA,OAAM,CAAN,EAAS,CAAE;;AAEX,aAAO,CAAP;AACD;;;wBAEG,G,EAAmB;AAAA,UAAd,OAAc,yDAAJ,EAAI;;AACrB,mBAAa,OAAb,CAAqB,KAAK,IAA1B,EAAgC,yBAAe,GAAf,CAAhC;;AAEA,WAAK,IAAL,CAAU,QAAV,EAAoB,KAAK,IAAzB;AACD;;SArBG,W;;;AAyBN,sBAAc,YAAY,SAA1B,EAAqC,EAAC,sBAAD,EAArC;;AAEA,IAAI,eAAe,sBAAnB;;AAEA,YAAY,SAAZ,CAAsB,IAAtB,GAA8B,aAAa,SAAb,CAAuB,IAAvB,CAA4B,YAA5B,CAA9B;AACA,YAAY,SAAZ,CAAsB,EAAtB,GAA8B,aAAa,WAAb,CAAyB,IAAzB,CAA8B,YAA9B,CAA9B;AACA,YAAY,SAAZ,CAAsB,IAAtB,GAA8B,aAAa,eAAb,CAA6B,IAA7B,CAAkC,YAAlC,CAA9B;AACA,YAAY,SAAZ,CAAsB,GAAtB,GAA8B,aAAa,cAAb,CAA4B,IAA5B,CAAiC,YAAjC,CAA9B;;kBAEe,W","file":"store.js","sourcesContent":["import EventEmitter from '../events'\nimport mixin        from '../mixin'\nimport utils        from '../utils'\n\nclass DragonStore {\n\n  constructor(options = {}) {\n    this.options = options\n    this.name    = options.name\n  }\n\n  get() {\n    var o = {}\n    try {\n      o = JSON.parse(localStorage.getItem(this.name))\n    }\n    catch(e) {}\n\n    return o\n  }\n\n  set(val, options = {}) {\n    localStorage.setItem(this.name, JSON.stringify(val))\n\n    this.emit('change', this.name)\n  }\n\n}\n\nObject.assign(DragonStore.prototype, {mixin})\n\nvar eventEmitter = new EventEmitter()\n\nDragonStore.prototype.emit  = eventEmitter.emitEvent.bind(eventEmitter)\nDragonStore.prototype.on    = eventEmitter.addListener.bind(eventEmitter)\nDragonStore.prototype.once  = eventEmitter.addOnceListener.bind(eventEmitter)\nDragonStore.prototype.off   = eventEmitter.removeListener.bind(eventEmitter)\n\nexport default DragonStore\n"]}