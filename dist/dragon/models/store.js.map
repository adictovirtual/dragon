{"version":3,"sources":["../../../src/dragon/models/store.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeM,K;AAEJ,WAFI,KAEJ,GAA0B;AAAA,QAAd,OAAc,yDAAJ,EAAI;AAAA,wCAFtB,KAEsB;;AACxB,SAAK,GAAL,GAAW,gBAAM,QAAN,CAAe,IAAf,CAAX;;;AAGA,QAAI,eAAe,sBAAnB;;AAEA,SAAK,IAAL,GAAa,aAAa,SAAb,CAAuB,IAAvB,CAA4B,YAA5B,CAAb;AACA,SAAK,EAAL,GAAa,aAAa,WAAb,CAAyB,IAAzB,CAA8B,YAA9B,CAAb;AACA,SAAK,IAAL,GAAa,aAAa,eAAb,CAA6B,IAA7B,CAAkC,YAAlC,CAAb;AACA,SAAK,GAAL,GAAa,aAAa,cAAb,CAA4B,IAA5B,CAAiC,YAAjC,CAAb;;AAEA,SAAK,OAAL,GAAe,OAAf;;AAEA,SAAK,IAAL,GAAe,QAAQ,IAAvB;AACD;;6BAhBG,K;;0BAkBE;AACJ,UAAI,IAAI,EAAR;AACA,UAAI;AACF,YAAI,KAAK,KAAL,CAAW,aAAa,OAAb,CAAqB,KAAK,IAA1B,CAAX,CAAJ;AACD,OAFD,CAGA,OAAM,CAAN,EAAS,CAAE;;AAEX,aAAO,CAAP;AACD;;;wBAEG,G,EAAmB;AAAA,UAAd,OAAc,yDAAJ,EAAI;;AACrB,mBAAa,OAAb,CAAqB,KAAK,IAA1B,EAAgC,yBAAe,GAAf,CAAhC;;AAEA,WAAK,IAAL,CAAU,QAAV,EAAoB,KAAK,IAAzB;AACD;;SAhCG,K;;;;;;;;AAoCN,sBAAc,MAAM,SAApB,EAA+B,EAAC,sBAAD,EAA/B;;kBAEe,K","file":"store.js","sourcesContent":["/**\n * Module Dependencies\n *\n * @ignore\n */\nimport EventEmitter from '../events'\nimport mixin        from '../mixin'\nimport utils        from '../utils'\n\n/**\n * Store Class\n *\n * @public\n * @class Store\n */\nclass Store {\n\n  constructor(options = {}) {\n    this.uid = utils.uniqueId(this)\n\n    // TODO: figure out how to mixin this\n    var eventEmitter = new EventEmitter()\n\n    this.emit  = eventEmitter.emitEvent.bind(eventEmitter)\n    this.on    = eventEmitter.addListener.bind(eventEmitter)\n    this.once  = eventEmitter.addOnceListener.bind(eventEmitter)\n    this.off   = eventEmitter.removeListener.bind(eventEmitter)\n\n    this.options = options\n\n    this.name    = options.name\n  }\n\n  get() {\n    var o = {}\n    try {\n      o = JSON.parse(localStorage.getItem(this.name))\n    }\n    catch(e) {}\n\n    return o\n  }\n\n  set(val, options = {}) {\n    localStorage.setItem(this.name, JSON.stringify(val))\n\n    this.emit('change', this.name)\n  }\n\n}\n\nObject.assign(Store.prototype, {mixin})\n\nexport default Store\n"]}