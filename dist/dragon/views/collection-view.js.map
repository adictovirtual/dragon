{"version":3,"sources":["../../../src/dragon/views/collection-view.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAgBM,c;0BAAA,c;;;;;;;;;;;AASJ,WATI,cASJ,GAA0B;AAAA,QAAd,OAAc,yDAAJ,EAAI;AAAA,wCATtB,cASsB;AAAA,wFATtB,cASsB,aAClB,sBAAc,EAAd,EAAkB;AACtB,YAAM,QAAQ,IAAR;AADgB,KAAlB,EAEH,OAFG,CADkB;AAIzB;;6BAbG,c;;6BAeK;;AAEP,UAAG,CAAC,KAAK,SAAT,EAAoB;AAClB,gBAAQ,KAAR,CAAc,2BAAd,EAA2C,KAAK,GAAhD;AACA,eAAO,IAAP;AACD;;AAED,UAAG,KAAK,QAAR,EAAkB;AAChB,eAAO,IAAP;AACD;;AAED,UAAG,KAAK,EAAR,EAAY;AACV;AACD,OAFD,MAGK;AACH,aAAK,aAAL;AACD;;AAED,WAAK,IAAL,GAAY,gBA1CR,eA0CQ,EAAgB,KAAK,EAArB,EAAyB,EAAzB,EAA6B,KAAK,OAAL,CAAa,IAAb,CAAkB,IAAlB,CAA7B,CAAZ;;AAEA,WAAK,EAAL,CAAQ,SAAR,GAAoB,KAAK,WAAL,EAApB;;AAEA,WAAK,WAAL;;AAEA,WAAK,cAAL;;AAEA,WAAK,IAAL,CAAU,QAAV;;AAEA,aAAO,IAAP;AAED;;;qCAEgB;AAAA;;AAEf,UAAG,KAAK,UAAR,EAAoB;AAClB,YAAI,SAAS,KAAK,UAAL,CAAgB,MAA7B;AACA,4BAAY,MAAZ,EAAoB,OAApB,CAA6B,UAAC,GAAD,EAAM,CAAN,EAAY;;AAEvC,iBAAK,UAAL,CAAgB,OAAO,GAAP,CAAhB,EAA6B,CAA7B;AAED,SAJD;AAKD;AAEF;;;+BAEU,K,EAAO,C,EAAG;;AAEnB,WAAK,IAAL,sBAA6B,CAA7B,EAAkC,IAAI,KAAK,IAAT,CAAc;AAC9C;AAD8C,OAAd,CAAlC;AAID;;SAlEG,c;;;kBAsES,c","file":"collection-view.js","sourcesContent":["'use strict'\n\n/**\n * Module Dependencies\n *\n * @ignore\n */\nimport {createContainer} from 'f12-stardux'\nimport View              from './index'\n\n/**\n * CollectionView Class\n *\n * @public\n * @class CollectionView\n */\nclass CollectionView extends View {\n\n  /**\n   * CollectionView constructor\n   *\n   * @public\n   * @constructor\n   * @param {Object} options\n   */\n  constructor(options = {}) {\n    super(Object.assign({}, {\n      View: options.View || View\n    }, options))\n  }\n\n  render() {\n\n    if(!this.container) {\n      console.error('Container type not valid.', this.uid)\n      return this\n    }\n\n    if(this.attached) {\n      return this\n    }\n\n    if(this.el) {\n      return\n    }\n    else {\n      this.ensureElement()\n    }\n\n    this.idom = createContainer(this.el, {}, this.reducer.bind(this))\n\n    this.el.innerHTML = this.getTemplate()\n\n    this.refreshIDOM()\n\n    this.renderAllItems()\n\n    this.emit('render')\n\n    return this\n\n  }\n\n  renderAllItems() {\n\n    if(this.collection) {\n      var models = this.collection.models\n      Object.keys(models).forEach( (key, i) => {\n\n        this.renderItem(models[key], i)\n\n      })\n    }\n\n  }\n\n  renderItem(model, i) {\n\n    this.view(`collection-view-${i}`, new this.View({\n      model\n    }))\n\n  }\n\n}\n\nexport default CollectionView\n"]}