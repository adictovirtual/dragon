{"version":3,"sources":["../../../src/dragon/controllers/base.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAKM,gB;AAEJ,WAFI,gBAEJ,GAAc;AAAA,wCAFV,gBAEU;;AACZ,SAAK,GAAL,GAAW,gBAAM,QAAN,CAAe,IAAf,CAAX;AACD;;6BAJG,gB;;4BAMI,G,EAAK,G,EAAmB;AAAA,UAAd,OAAc,yDAAJ,EAAI;;;AAE9B,UAAG,UAAU,MAAV,IAAoB,CAApB,IAAyB,sBAAO,uBAAa,GAAb,CAAP,KAA4B,QAAxD,EAAkE;AAChE,YAAI,cAAc,uBAAa,GAAb,CAAlB;;AAEA,eAAO,WAAP;AACD;;;;;AAKD,UAAG,CAAC,uBAAa,GAAb,CAAD,IAAsB,QAAQ,MAAjC,EAAyC;;AAEvC,+BAAa,GAAb,IAAoB,IAAI,GAAJ,CAAQ,OAAR,CAApB;AAED;AAEF;;;8BAES;;AAER,UAAG,CAAC,KAAK,QAAT,EAAmB;;AAEjB,wBAAM,OAAN,CAAc,IAAd,EAAoB;AAClB,4BAAkB,CAAC,KAAD;AADA,SAApB;AAID;AAEF;;SAnCG,gB;;;AAuCN,iBAAiB,SAAjB,CAA2B,QAA3B,GAAsC,KAAtC;;kBAEe,gB","file":"base.js","sourcesContent":["'use strict';\n\nimport composeStore from '../lib/composeStore'\nimport utils        from '../utils'\n\nclass DragonController {\n\n  constructor() {\n    this.uid = utils.uniqueId(this)\n  }\n\n  compose(key, Val, options = {}) {\n\n    if(arguments.length == 1 || typeof composeStore[key] == 'object') {\n      var composition = composeStore[key]\n\n      return composition\n    }\n\n    /*\n    TODO: Figure out how updating/replacing a composition would work.\n    */\n    if(!composeStore[key] || options.update) {\n\n      composeStore[key] = new Val(options)\n\n    }\n\n  }\n\n  dispose() {\n\n    if(!this.disposed) {\n\n      utils.dispose(this, {\n        ignoreProperties: ['app']\n      })\n\n    }\n\n  }\n\n}\n\nDragonController.prototype.disposed = false\n\nexport default DragonController\n"]}