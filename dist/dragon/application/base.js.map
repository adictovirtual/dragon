{"version":3,"sources":["../../../src/dragon/application/base.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAOM,iB;AAEJ,WAFI,iBAEJ,GAA0B;AAAA,QAAd,OAAc,yDAAJ,EAAI;AAAA,wCAFtB,iBAEsB;;AACxB,SAAK,GAAL,GAAW,gBAAM,QAAN,CAAe,IAAf,CAAX;;;AAGA,SAAK,QAAL,GAAgB,KAAhB;;AAEA,SAAK,OAAL,GAAe,OAAf;;AAEA,QAAG,CAAC,KAAK,OAAL,CAAa,MAAb,CAAoB,MAAxB,EAAgC,OAAO,QAAQ,KAAR,CAAc,6BAAd,EAA6C,KAAK,OAAlD,CAAP;;AAEhC,SAAK,MAAL,GAAc,mBAAW;AACvB,cAAQ,KAAK,OAAL,CAAa,MAAb,CAAoB;AADL,KAAX,CAAd;;AAIA,QAAI,aAAa,KAAK,UAAL,GAAkB,yBAAe;AAChD,WAAK,IAD2C;AAEhD,qBAAe,QAAQ,UAAR,CAAmB;AAFc,KAAf,CAAnC;;AAKA,SAAK,MAAL,CAAY,EAAZ,CAAe,OAAf,EAAwB,SAAS,kBAAT,CAA4B,KAA5B,EAAmC,MAAnC,EAA2C,OAA3C,EAAoD;;AAE1E,iBAAW,QAAX,CAAoB,KAApB,EAA2B,MAA3B,EAAmC,OAAnC;AAED,KAJD;AAMD;;6BA3BG,iB;;8BA6BM;;AAER,UAAG,CAAC,KAAK,QAAT,EAAmB;;AAEjB,wBAAM,OAAN,CAAc,IAAd;AAED;AAEF;;;4BAEO;;AAEN,WAAK,MAAL,CAAY,KAAZ;AAED;;SA3CG,iB;;;AA+CN,sBAAc,kBAAkB,SAAhC,EAA2C,EAAC,sBAAD,EAA3C;;kBAEe,iB","file":"base.js","sourcesContent":["'use strict';\n\nimport Dispatcher from '../router/dispatcher'\nimport mixin      from '../mixin'\nimport Router     from '../router/base'\nimport utils      from '../utils'\n\nclass DragonApplication {\n\n  constructor(options = {}) {\n    this.uid = utils.uniqueId(this)\n    //this.mixin(eventsMixin)\n\n    this.disposed = false\n\n    this.options = options\n\n    if(!this.options.router.routes) return console.error('Application requires routes', this.options)\n\n    this.router = new Router({\n      routes: this.options.router.routes\n    })\n\n    var dispatcher = this.dispatcher = new Dispatcher({\n      app: this,\n      getController: options.dispatcher.getController\n    })\n\n    this.router.on('match', function routeMatchCallback(route, params, options) {\n\n      dispatcher.dispatch(route, params, options)\n\n    })\n\n  }\n\n  dispose() {\n\n    if(!this.disposed) {\n\n      utils.dispose(this)\n\n    }\n\n  }\n\n  start() {\n\n    this.router.start()\n\n  }\n\n}\n\nObject.assign(DragonApplication.prototype, {mixin})\n\nexport default DragonApplication\n"]}